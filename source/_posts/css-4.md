---
title: css four
date: 2016-06-06 01:57:25
tags: CSS
categories: 前端
---
## 层叠（cascade）
继承（Inheritance）是从一个元素向其后代元素传递属性值所采用的机制。确定应当向一个元素应用哪些值时，用户代理不仅要考虑继承，还要考虑声明的特殊性，另外需要考虑声明本身的来源。这个过程就称为层叠（cascade）。
<!--more-->
## 特殊性
选择器的特殊性由选择器本身的组件确定。特殊性值表述为4个部分，如：0，0，0，0。一个选择器的具体特殊性如下确定：
对于选择器中给定的各个ID属性值，加0，1，0，0。
对于选择器中给定的各个类属性值，属性选择或伪类，加0，0，1，0。
对于选择器中给定的各个元素和伪元素，加0，0，0，1。伪元素是否有特殊性，在这方面css2有些自相矛盾，不过css2.1很清楚的指出，伪元素有特殊性，而且其特殊性为0，0，0，1。
结合符和通配符选择器对特殊性没有任何贡献。
内联样式(style)的特殊性最高，为1，0，0，0。

## 继承
继承是CSS中最基本的内容之一，除非有必要的理由，否则一般不会特别考虑，正所谓“熟视无睹”。不过，还是有几点需要记住。
首先，注意有些属性不能继承，这往往归因于一个简单的常识。例如，属性border (用于设置元素的边框）就不会继承。
一般地，大多数框模型属性（包括外边距、内边距、背景和边框）都不能继承，其原因是一样的。毕竟，肯定不希望一个段落中的所有链接都从其父元素继承30像素的左外边距！
```CSS
*{color: gray;}
h1#page-title {color:black;}
<h1 id="page-title">Meerkat <em>Central</em></h1>
<p>
Welcome to the best place on the web for meerkat information!
</p>
```

因为通配选择器适用于所有元素，而且有0特殊性，其颜色声明指定的值gray要优先于继承值（black）,因为继承值根本没有特殊性。因此，em元素会显示为灰色而不是黑色。
继承值完全没有特殊性，这一点很关键，绝不能等闲视之。

## 按权重和来源排序

在声明权重方面要考虑5级。权重由大到小的顺序依次为：
1. 读者的重要声明
2. 创作人员的重要声明
3. 创作人员的正常声明
4. 读者的正常声明
5. 用户代理声明
通常只需要考虑前4个权重级別，因为任何声明都会胜过用户代理样式。

## 按特殊性排序
如果向一个元素应用多个彼此冲突的声明，而且它们的权重相同，则要按特殊性排序，最特殊的声明最优先。

## 按顺序排序

如果两个规则的权重、来源和特殊性完全相同，那么在样式表中后出现的一个会胜出。

由于这种按顺序排序，所以才有了通常推荐的链接样式顺序。一般建议按link-visited-hover-active (LVHA)的顺序声明链接样式如下：

:link {color: blue;}
:visited {color: purple;}
:hover {color: red;}
:active {color: orange;}
根据这一章的介绍，现在你知道了所有这些选择器的特殊性都是一样的：0,0,1,0。因为它们都有相同的权重、来源和特殊性，因此与元素匹配的最后一个选择器才会胜出。正在“点击”的未访问链接可以与其中3个规则匹配--:link.:hover和:active--所以在这三个规则当中最后声明的一个将胜出。

## 非CSS表现提示

文档有可能包含非CSS的表现提示，例如font元素。非CSS提示被处理为特殊性为0,并出现在创作人员样式表的最前面。只要有创作人员或读者样式，这种表现提示就会被覆盖，但是用户代理的样式不能将其覆盖。


